<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Heart Fill Animation</title>
<style>
  body {
    margin: 0;
    background: black;
    overflow: hidden;
  }
  canvas {
    display: block;
  }
</style>
</head>
<body>

<canvas id="canvas"></canvas>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

canvas.width = innerWidth;
canvas.height = innerHeight;

const cx = canvas.width / 2;
const cy = canvas.height / 2;
const scale = 13;

let fillProgress = 0;
const particles = [];

function heart(t) {
  return {
    x: 16 * Math.pow(Math.sin(t), 3),
    y: 13 * Math.cos(t)
       - 5 * Math.cos(2*t)
       - 2 * Math.cos(3*t)
       - Math.cos(4*t)
  };
}

// Create particles from outline to inside
for (let r = 1; r >= 0; r -= 0.02) {
  for (let t = 0; t < Math.PI * 2; t += 0.04) {
    const h = heart(t);
    particles.push({
      x: cx + h.x * scale * r,
      y: cy - h.y * scale * r,
      alpha: r
    });
  }
}

function animate() {
  ctx.clearRect(0,0,canvas.width,canvas.height);

  particles.forEach((p, i) => {
    if (i < fillProgress) {
      ctx.beginPath();
      ctx.fillStyle = `rgba(255,0,0,0.9)`;
      ctx.shadowColor = "red";
      ctx.shadowBlur = 10;
      ctx.arc(p.x, p.y, 1.4, 0, Math.PI*2);
      ctx.fill();
    }
  });

  if (fillProgress < particles.length) {
    fillProgress += 80; // fill speed
  }

  requestAnimationFrame(animate);
}

animate();
</script>

</body>
</html>
